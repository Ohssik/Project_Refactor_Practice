@model IEnumerable<prjMSIT145_Final.ViewModels.COrderDetialViewModel>
@{
    ViewData["Title"] = "List";
}

@section Styles{
    <style>
        .pic_Div {
            width: 100%;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .pic {
            height: 80px;
            width: 80px;
        }

            .pic img {
                width: 100%;
                height: 100%;
                border-radius: 50%;
                object-fit: cover;
                overflow: hidden;
                margin: 0;
            }

        .state_timeDiv {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
        }

        .state {
            height: 40px;
            width: 70px;
            font-size: 15px;
            border-radius: 10px;
            background-color: rgb(243, 206, 206);
            box-sizing: border-box;
            padding: 10px 0;
        }

        .column {
            display: flex;
            flex-direction: column;
            align-content: space-between;
        }

        h4 {
            margin: 10px;
        }

        p {
            font-size: 14px;
            margin: 8px;
        }

        a:link {
            text-align: center;
        }

        .padding {
            box-sizing: border-box;
            padding: 10px;
        }

        .main {
            margin: 10px auto;
            max-width: 70%;
            height: 100%;
        }

        .divCenter {
            display: flex;
            flex-wrap: wrap;
        }

        .margin {
            margin: 40px 0;
        }

        .select {
            display: flex;
            width: 500px;
            height: 50px;
            font-size: 20px;
        }

            .select select {
                font-size: 16px;
                margin-left: 50px;
                width: 300px;
                height: 30px;
            }

        .cartDiv {
            min-width: 16rem;
            height: 250px;
            border-width: 1px;
            border-style: solid;
            position: relative;
            border-radius: 10px;
            margin: 10px;
            text-align: center;
        }

        .btnDiv {
            height: 50px;
            width: 50px;
            display: flex;
            position: absolute;
            bottom: 5px;
            right: 5px;
        }

            .btnDiv button {
                height: 100%;
                width: 100%;
                border: 1px solid;
                background-color: transparent;
            }

        .linkTrash {
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            text-align: center;
            padding: 15px 0;
        }

        .topBorder {
            border-top: 1px solid;
        }

        a:link {
            text-decoration: none;
            color: black;
        }

        a:visited {
            color: black;
        }

        a:hover {
            color: gray;
        }

        a:active {
            background-color: rgb(235, 230, 230);
        }

        .body_Icon_delete_Guide_fontColor {
            color: rgb(79, 69, 79);
        }

        .button_Icon_Guide_BackGroundColor {
            background-color: rgb(250, 250, 248);
        }

        .cardBorderColor {
            border-color: #9F4E27
        }

        .cardBackgroundColor {
            /* background-color: rgb(255, 251, 217); */
            background-color: white
        }

        .bodyBackgroundColor {
            /* background-color: rgb(212, 218, 204); */
            background-color: rgb(236, 236, 236);
        }

        .card_Guide_FontColor {
            color: #595757;
        }

        * {
            color: #595757;
        }

        .mainDiv {
            position: relative;
            width: 45%;
            margin: 10px auto;
            /* z-index: 0; */
        }

        .flexAndItemsCenter {
            width: 100%;
            display: flex;
            align-items: center;
        }

        h4, h5, h6 {
            margin: 5px 0;
            color: #9F4E27;
        }

        .Fieldset {
            border-radius: 10px;
            color: gray;
            height: 30px;
            margin: 10px 0;
            font-size: 10px;
            border: 1px solid gray;
        }

        .spanFont {
            font-size: 10px;
        }

        .exclamation {
            box-sizing: border-box;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background-color: rgb(251, 86, 86);
            text-align: center;
            padding: 2px 0;
            margin-right: 15px;
        }

        .exclamationDiv {
            box-sizing: border-box;
            height: 30px;
            background-color: rgb(253, 219, 224);
            border-radius: 10px;
            padding: 0 5px;
        }
    </style>
}

<body class="bodyBackgroundColor">

    <div class="backgroundDiv">
        <div class="main">
            <form action="">
                <div class="margin select card_Guide_FontColor">
                    <span>訂單狀態</span>
                    <div>
                        <select name="orderState" id="">
                            <option value="">全部</option>
                            <option value="">已接單</option>
                            <option value="">未接單</option>
                            <option value="">商品準備中</option>
                            <option value="">取消</option>
                        </select>
                    </div>
                </div>
            </form>
            @{
                int count = 0;
                foreach (var item in Model)
                {
                    count++;
                    <div class="divCenter " id="divCenter">
                        <!-- *****動態產生****至140行為止 -->
                        <div class="cartDiv cardBorderColor cardBackgroundColor padding" name="Click" id="Click">
                            <p class="card-text card_Guide_FontColor" hidden name="OrderFid">@Html.DisplayFor(modelItem => item.OrderFid)</p>
                            <div class="state_timeDiv">
                                <!-- 背景色依狀態更改:接單:淡粉色,未接單:綠色,店家拒接單:紅色,完成訂單:灰色 -->
                                <div class="state" id="orderState">已接單</div>
                                <div id="orderTime">@Html.DisplayFor(modelItem => item.OrderTime)</div>
                            </div>
                            <div class="column">
                                <div class="pic_Div">
                                    <div class="pic">
                                        <img src="images/cat.jpg" class="card-img-top" alt="..." />
                                    </div>
                                </div>
                                <div class="">
                                    <h4 class="card-title">@Html.DisplayFor(modelItem => item.BMemberName)</h4>
                                    <div class="topBorder">
                                        <p class="card-text card_Guide_FontColor">@Html.DisplayFor(modelItem => item.Qty)品項</p>
                                        <p class="card-text card_Guide_FontColor">@Html.DisplayFor(modelItem => item.TotalAmount)金額</p>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                }
            }
        </div>
    </div>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <script src="js/jquery-3.6.2.js"></script>
    <script>
        let obj = document.getElementById("divCenter");
        var Click = document.querySelector(`#Click`)

        Click.addEventListener('click', function () {

            console.log(this.children[0].innerHTML);

            location.replace(`ListInfo/${this.children[0].innerHTML}`)

        }, false);

        $("#cartDelete").find("i").hover(function () {
            $(this).css("color", "gray")
        }, function () {
            $(this).css("color", "black").css("background-color", "transparent")
        })

    </script>

</body>

