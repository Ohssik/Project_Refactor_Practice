@model List<prjMSIT145_Final.ViewModels.COrderDetialViewModel>

@{
    ViewData["Title"] = "ListInfo";
}
@section Styles{
    <style>

        .div1 {
            margin: 5px auto;
            width: 70%;
            box-sizing: border-box;
            display: flex;
            padding: 15px;
        }

        .leftArea {
            width: 40%;
            border-right: 2px dashed #9F4E27;
            box-sizing: border-box;
            padding: 8px 8px 8px 0;
        }

        .storeImg {
            width: 50px;
            height: 50px;
            margin-right: 15px;
        }

            .storeImg img {
                width: 100%;
                height: 100%;
                border-radius: 50%;
            }

        .flex {
            display: flex;
        }

        .margin {
            margin: 10px 0;
        }

        .leftPickUpNum {
            height: 20px;
            background-color: lightblue;
            box-sizing: border-box;
            padding: 8px 10px;
            font-size: 18px;
            color: white;
        }

        .leftDiv_leftSpan {
            width: 100px;
            font-size: 10px;
        }

        .leftDiv_infoDiv {
            height: 40px;
            box-sizing: border-box;
            padding: 10px 0;
        }

        .leftDiv_rightSpan {
            width: 150px;
            font-size: 10px;
            border-radius: 5px;
        }

        .leftDiv_StateSpan {
            width: 90px;
            height: 40px;
            box-sizing: border-box;
            padding: 8px;
            background-color: lightskyblue;
            color: white;
        }

        .bottomBorder {
            border-bottom: 1px solid lightgray;
        }

        .leftDiv_Rate {
            align-items: flex-start;
            max-height: 500px;
            min-height: 70px;
            max-width: 100%;
            min-width: 100%;
            font-size: 12px;
            background-color: aliceblue;
        }

        .leftDiv_RateDiv {
            box-sizing: border-box;
            padding: 0 10px 0 0;
        }

        .rightDiv {
            box-sizing: border-box;
            padding: 0 20px;
            width: 80%;
        }

        .rightDiv_display {
            display: flex;
            flex-direction: column;
        }

        .rightItemDiv {
            width: 100%;
            height: 50px;
            box-sizing: border-box;
            padding: 0 10px;
        }

        .mainDiv {
            position: relative;
            width: 45%;
            margin: 10px auto;
            /* z-index: 0; */
        }

        .flexAndItemsCenter {
            width: 100%;
            display: flex;
            align-items: center;
        }

        h4, h5, h6 {
            margin: 5px 0;
            color: #9F4E27;
        }

        .Fieldset {
            border-radius: 10px;
            color: gray;
            height: 30px;
            margin: 10px 0;
            font-size: 10px;
            border: 1px solid gray;
        }

        .spanFont {
            font-size: 10px;
        }

        .exclamation {
            box-sizing: border-box;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background-color: rgb(251, 86, 86);
            text-align: center;
            padding: 2px 0;
            margin-right: 15px;
        }

        .exclamationDiv {
            box-sizing: border-box;
            height: 30px;
            background-color: rgb(253, 219, 224);
            border-radius: 10px;
            padding: 0 5px;
        }

        .body_Icon_delete_Guide_fontColor {
            color: rgb(79, 69, 79);
        }

        .button_Icon_Guide_BackGroundColor {
            background-color: rgb(250, 250, 248);
        }

        .cardBorderColor {
            border-color: #9F4E27
        }

        .cardBackgroundColor {
            /* background-color: rgb(255, 251, 217); */
            background-color: white;
        }

        .bodyBackgroundColor {
            /* background-color: rgb(212, 218, 204); */
            background-color: rgb(236, 236, 236);
        }

        .card_Guide_FontColor {
            color: #595757;
        }

        * {
            color: #595757;
        }
    </style>
}





    

<body class="bodyBackgroundColor">
    <div class="div1 cardBackgroundColor">
        <!-- 左邊 -->
  
        <div class="leftArea">
            <!-- 店家全區 -->
            <div class="flex bottomBorder">
                <div class="storeImg"></div>
                <div class="spanFont">
                    <p>店家名稱:@Model[0].BMemberName</p>
                    <p>連絡電話:@Model[0].BMemberPhone</p>
                    <p>店家地址:@Model[0].Address</p>
                </div>

            </div>
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan ">
                    <span>訂單狀態</span>
                </div>
                <div class="leftDiv_rightSpan legtDiv_StateSpan">
                    <span>@Model[0].OrderState</span>
                </div>
            </div>
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan ">
                    <span>取餐時間</span>
                </div>
                <div class="leftDiv_rightSpan legtDiv_StateSpan">
                    <span name="time1" id="time1">@Convert.ToString(Model[0].PickUpDate).Substring(0,9) @Model[0].PickUpTime</span>
                </div>
            </div>
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan">
                    <span>付款金額</span>
                </div>
                <div class="leftDiv_rightSpan">
                    <span>$@Model[0].TotalAmount</span>
                </div>
            </div>
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan">
                    <span>付款方式</span>
                </div>
                <div class="leftDiv_rightSpan">
                    <span>@Model[0].PayTermCatId</span>
                </div>
            </div>
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan">
                    <span>取餐方式</span>
                </div>
                <div class="leftDiv_rightSpan">
                    <span>@Model[0].PickUpType</span>
                </div>
            </div>
            
            
                
            
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan">
                    <span>取餐人</span>
                </div>
                <div class="leftDiv_rightSpan">
                    <span>@Model[0].PickUpPerson</span>
                </div>
            </div>
           
            
            <div class="flexAndItemsCenter bottomBorder leftDiv_infoDiv">
                <div class="leftDiv_leftSpan">
                    <span>聯絡電話</span>
                </div>
                <div class="leftDiv_rightSpan">
                    <span>@Model[0].PickUpPersonPhone</span>
                </div>
            </div>
            <div class="flexAndItemsCenter leftDiv_infoDiv">
                <div class="leftDiv_leftSpan">
                    <span>評價</span>
                </div>
                <div class="leftDiv_rightSpan">
                    <img id="img1" src="~/images/star.png" />
                    <img id="img2" src="~/images/star.png" />
                    <img id="img3" src="~/images/star.png" />
                    <img id="img4" src="~/images/star.png" />
                    <img id="img5" src="~/images/star.png" />

                </div>
            </div>
            <div class="leftDiv_RateDiv">
                <textarea class="leftDiv_Rate cardBorderColor" name="" id="rateArea"></textarea>
                <input type="submit" value="送出評論" />
            </div>
           
        </div>
        <!-- 右邊 -->

        <div class="rightDiv rightDiv_display">
            <div class="rightItemDiv margin itemCard_padding_margin button_Icon_Guide_BackGroundColor" id="AdivBody">
                
                <!-- *餐點資訊,依實際點選內容增加span -->
                <h6>餐點名稱</h6>
                <div class="flexAndItemsCenter displayBetween ">
                    <div>
                        <span id="itemDetailFont" class="spanFont">
                            <span><span>紅茶</span> /</span>
                            <span><span>M</span> /</span>
                            <span><span>半糖</span> /</span>
                            <span><span>少冰</span> /</span>
                            <span><span>$10</span> /</span>
                            <span><span>x3</span> </span>
                        </span>
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>

@section Scripts{
    <script>
        
        @*
        const selType = document.querySelector("#selType");
        const selBody = document.getElementById("AdivBody");
       
        window.addEventListener("load", async function (order) {
            const request = await fetch(`@Url.Content("~/OrderDetial/ListInfo")`);
            const data = await request.json();
            console.log(data);
            let result = document.createDocumentFragment();
            result = "";
            data.forEach(function (item, index) {
                result += `
                                                        <td>${item.pickUpPerson}</td>
                                                        <td>${item.bMemberName}</td>
                                                        <td>${item.bAddress}</td>
                                                        <td>${item.pickUpPersonPhone}</td>
                                                        <td>${item.pickUpType}</td>
        `
            });
            selType.innerHTML = result;

        });*@
        


        let check = true;
        for (let i = 1; i <= 5; i++) {
            document.getElementById(`img${i}`).addEventListener("mouseover", mouseover);
            document.getElementById(`img${i}`).addEventListener("mouseout", mouseout);
            document.getElementById(`img${i}`).addEventListener("click", click);
        }

        function mouseover(e) {
            let num = e.currentTarget.id.substr(3);
            for (let i = 1; i <= num; i++) {
            document.getElementById(`img${i}`).src = `@Url.Content("~/images/changstar.png")`;
            }

        }

        function mouseout(e) {
            for (let i = 1; i <= 5; i++) {
            document.getElementById(`img${i}`).src = `@Url.Content("~/images/star.png")`;
            }

        }

        function click(e) {
            if (check) {
                let num = e.currentTarget.id.substr(3);
                for (let i = 1; i <= num; i++) {
                document.getElementById(`img${i}`).src = `@Url.Content("~/images/changstar.png")`;
                }

                for (let i = 1; i <= 5; i++) {
                    document.getElementById(`img${i}`).removeEventListener("mouseover", mouseover);
                    document.getElementById(`img${i}`).removeEventListener("mouseout", mouseout);
                }
                check = false;
            } else {
                for (let i = 1; i <= 5; i++) {
                document.getElementById(`img${i}`).src = `@Url.Content("~/images/star.png")`;
                    document.getElementById(`img${i}`).addEventListener("mouseover", mouseover);
                    document.getElementById(`img${i}`).addEventListener("mouseout", mouseout);
                }

                check = true;
            }
        }

        

    </script>
    }


